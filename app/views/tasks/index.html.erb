<%# Heading %>
<h1 class="font-bold text-2xl text-center text-primary-950 dark:text-primary-50">Task Manager</h1>

<%# Form %>
<main class="grid justify-items-center gap-8 md:gap-14 mt-16 md:mt-28">
  <section class="grid w-full sm:w-3/4 md:max-w-md">
    <%# Validation Error Messages %>
    <%= render "devise/shared/error_messages", resource: @task %>
    <%# New Task form %>
    <%= render "form", task: @task %>
  </section>

  <%# divider %>
  <hr class="divider">

  <%# Tasks %>
  <% if @tasks.present? %>
    <section class= "grid justify-items-center gap-5 mb-10">
      <h2 class="font-bold text-lg text-primary-950 dark:text-primary-50">Tasks</h2>

      <%= turbo_stream_from current_user %>
      <div id="task" data-controller="tasks" class="grid gap-4">
        <%= render @tasks %>
      </div>
    </section>
  <% end %>
</main>

  <%= link_to "Sign out",  destroy_user_session_path, 'data-turbo-method': :delete %>
  <br />
  <%= link_to "Update Profile", edit_user_registration_path %>
